<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Heart Rate Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <p id="currentTime"></p>
        <button id="pulseButton">
            <div class="bpmDisplay">
                <span id="bpmValue">[bpm]</span><br>
                <span class="bpmText">bpm</span>
            </div>
        </button>
    </div>
    
    <!-- ハンバーガーメニュー -->
    <div class="hamburger-menu">
        <div class="menu-icon" onclick="toggleMenu()">&#9776;</div>
        <div id="menu" class="menu-content">
            <a href="#" id="usageInfo">使用方法</a>
            <a href="#" id="downloadTimestamps">ダウンロード（時刻）</a>
            <a href="#" id="downloadBpm">ダウンロード（心拍）</a>
            <a href="#" id="deleteData">データ消去</a>
        </div>
    </div>

    <!-- モーダルウィンドウ -->
    <div id="usageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>使用方法</h2>
            <div id="usageText"></div>
        </div>
    </div>
    <button id="downloadButton">test button</button>
    <script src="script.js"></script>
    <script>
        function downloadFile(content, fileName) {
            const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.setAttribute('download', fileName); // ダウンロード属性を設定
            document.body.appendChild(link);
            link.click(); // ダウンロードを実行
            document.body.removeChild(link);
            URL.revokeObjectURL(url); // メモリ解放
        }
        document.getElementById('downloadButton').addEventListener('click', function () {
            const content = 'example,csv,data\n1,2,3\n4,5,6';
            downloadFile(content, 'example.csv');
        });
    </script>
</body>
</html>
